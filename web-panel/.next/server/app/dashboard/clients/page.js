(()=>{var e={};e.id=198,e.ids=[198],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},2694:e=>{"use strict";e.exports=require("http2")},8791:e=>{"use strict";e.exports=require("https")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},3567:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>o,routeModule:()=>m,tree:()=>d}),s(5738),s(3321),s(4752),s(5866);var r=s(3191),i=s(8716),a=s(7922),l=s.n(a),n=s(5231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);s.d(t,c);let d=["",{children:["dashboard",{children:["clients",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5738)),"C:\\Users\\hy971\\source\\repos\\MyDietitianMobileApp\\web-panel\\app\\dashboard\\clients\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,3321)),"C:\\Users\\hy971\\source\\repos\\MyDietitianMobileApp\\web-panel\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,4752)),"C:\\Users\\hy971\\source\\repos\\MyDietitianMobileApp\\web-panel\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\hy971\\source\\repos\\MyDietitianMobileApp\\web-panel\\app\\dashboard\\clients\\page.tsx"],x="/dashboard/clients/page",u={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/dashboard/clients/page",pathname:"/dashboard/clients",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5160:(e,t,s)=>{Promise.resolve().then(s.bind(s,4717))},4717:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var r=s(326),i=s(2473),a=s(6824);async function l(){return(await a.Z.get("/api/dietitian/live-clients")).data.ActiveClients||[]}let n=["clients","live"];var c=s(636),d=s(3679),o=s(1405),x=s(7863),u=s(1333),m=s(2081),p=s(3731),h=s(1929),f=s(1021),g=s(1441);function j(){return(0,r.jsxs)(f.Z,{className:"p-6 space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"space-y-2 flex-1",children:[r.jsx(g.O,{className:"h-6 w-3/4"}),r.jsx(g.O,{className:"h-4 w-1/2"})]}),r.jsx(g.O,{className:"h-4 w-16 rounded-full"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx(g.O,{className:"h-4 w-20"}),r.jsx(g.O,{className:"h-4 w-12"})]}),r.jsx(g.O,{className:"h-2 w-full rounded-full"})]}),r.jsx(g.O,{className:"h-4 w-24"})]})}function y(){let e=(0,u.T)("clients"),t=(0,u.T)("common"),s=(0,u.T)("errors"),{clients:a,isLoading:f,isError:g,error:y,refetch:N,isRefetching:v,lastUpdated:b}=function(){let e=(0,i.a)({queryKey:n,queryFn:l,refetchInterval:3e4,refetchIntervalInBackground:!0,retry:1,staleTime:1e4});return{clients:e.data??[],isLoading:e.isLoading,isError:e.isError,error:e.error,refetch:e.refetch,isRefetching:e.isRefetching,lastUpdated:e.dataUpdatedAt?new Date(e.dataUpdatedAt):null}}();if(f)return(0,r.jsxs)("div",{className:"space-y-8",children:[r.jsx("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:e("title")}),r.jsx("p",{className:"text-muted-foreground mt-1",children:e("subtitle")})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[void 0,void 0,void 0,void 0].map((e,t)=>r.jsx(j,{},t))})]});if(g){let i=y&&"object"==typeof y&&"code"in y?s((0,m.C)(y.code)):y&&"object"==typeof y&&"message"in y?y.message:t("error");return(0,r.jsxs)("div",{className:"space-y-8",children:[r.jsx("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:e("title")}),r.jsx("p",{className:"text-muted-foreground mt-1",children:e("subtitle")})]})}),r.jsx(h.Z,{title:e("failedToLoad"),message:i,onRetry:()=>N(),retryLabel:t("retry"),isRetrying:v})]})}return 0===a.length?(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:e("title")}),r.jsx("p",{className:"text-muted-foreground mt-1",children:e("subtitle")})]}),(0,r.jsxs)(d.z,{variant:"secondary",onClick:()=>N(),disabled:v,children:[r.jsx(o.Z,{className:(0,x.cn)("w-4 h-4 mr-2",v&&"animate-spin")}),t("refresh")]})]}),r.jsx(p.Z,{title:e("noClients"),description:e("noClientsDescription")})]}):(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:e("title")}),r.jsx("p",{className:"text-muted-foreground mt-1",children:e("subtitle")})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[b&&r.jsx("p",{className:"text-sm text-muted-foreground",children:t("lastUpdated",{time:b.toLocaleTimeString()})}),(0,r.jsxs)(d.z,{variant:"secondary",onClick:()=>N(),disabled:v,children:[r.jsx(o.Z,{className:(0,x.cn)("w-4 h-4 mr-2",v&&"animate-spin")}),t(v?"refreshing":"refresh")]})]})]}),r.jsx(c.$,{clients:a.map(e=>({clientId:e.clientId,clientName:e.clientName,todayCompliancePercentage:e.todayCompliancePercentage,lastActivity:e.lastActivity,currentMeal:e.currentMeal,lastMealItem:e.lastMealItem}))})]})}},636:(e,t,s)=>{"use strict";s.d(t,{$:()=>m});var r=s(326),i=s(434),a=s(1021),l=s(7863);function n({compliancePercentage:e,hasActivity:t=!0,className:s}){let i=t?e>=80?{bg:"bg-green-500/10",border:"border-green-500/50",text:"text-green-500",label:"Excellent"}:e>=50?{bg:"bg-yellow-500/10",border:"border-yellow-500/50",text:"text-yellow-500",label:"Good"}:{bg:"bg-red-500/10",border:"border-red-500/50",text:"text-red-500",label:"Needs attention"}:{bg:"bg-muted/20",border:"border-muted",text:"text-muted-foreground",label:"No activity"};return(0,r.jsxs)("div",{className:(0,l.cn)("inline-flex items-center gap-2 px-3 py-1.5 rounded-lg border",i.bg,i.border,i.text,s),children:[r.jsx("div",{className:(0,l.cn)("w-2 h-2 rounded-full",i.bg,i.border.replace("/50",""))}),r.jsx("span",{className:"text-xs font-medium",children:i.label})]})}var c=s(8998);let d=(0,s(6557).Z)("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]);var o=s(4230),x=s(1333);function u({client:e}){var t;let s=(0,x.T)("clients"),u=null!==e.lastActivity,m=(t=e.todayCompliancePercentage,u?t>=80?"text-green-500":t>=50?"text-yellow-500":"text-red-500":"text-muted-foreground");return r.jsx(i.default,{href:`/dashboard/clients/${e.clientId}`,children:r.jsx(a.Z,{className:"p-6 hover:shadow-lg hover:border-primary/50 transition-all duration-200 cursor-pointer group h-full",children:(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[r.jsx("div",{className:"flex items-start justify-between mb-4",children:(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-semibold text-foreground mb-1",children:e.clientName}),r.jsx(n,{compliancePercentage:e.todayCompliancePercentage,hasActivity:u})]})}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("div",{className:"flex items-baseline gap-2",children:[r.jsx("span",{className:(0,l.cn)("text-4xl font-bold",m),children:u?e.todayCompliancePercentage.toFixed(0):"—"}),u&&r.jsx("span",{className:"text-sm text-muted-foreground",children:"%"})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:s("compliance")})]}),(0,r.jsxs)("div",{className:"flex-1 space-y-2",children:[e.lastActivity&&(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(c.Z,{className:"w-4 h-4"}),r.jsx("span",{children:function(e){if(!e)return"No activity";try{let t=new Date(e),s=new Date().getTime()-t.getTime(),r=Math.floor(s/6e4);if(r<1)return"Just now";if(r<60)return`${r} min ago`;let i=Math.floor(r/60);if(i<24)return`${i} hour${i>1?"s":""} ago`;let a=Math.floor(i/24);return`${a} day${a>1?"s":""} ago`}catch{return"Unknown"}}(e.lastActivity)})]}),e.currentMeal&&(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(d,{className:"w-4 h-4"}),r.jsx("span",{children:e.currentMeal}),e.lastMealItem&&(0,r.jsxs)("span",{className:"text-xs",children:["• ",e.lastMealItem]})]})]}),r.jsx("div",{className:"mt-4 pt-4 border-t border-border",children:(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-primary group-hover:gap-3 transition-all",children:[r.jsx("span",{children:s("viewDetails")}),r.jsx(o.Z,{className:"w-4 h-4"})]})})]})})})}function m({clients:e}){return 0===e.length?null:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.map(e=>r.jsx(u,{client:e},e.clientId))})}},3731:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var r=s(326),i=s(1021),a=s(4061);function l({title:e,description:t,action:s,icon:l}){return r.jsx(i.Z,{className:"p-12",children:(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center text-center space-y-4",children:[r.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-muted",children:l||r.jsx(a.Z,{className:"h-8 w-8 text-muted-foreground"})}),r.jsx("h2",{className:"text-lg font-semibold text-foreground",children:e}),r.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:t}),s&&r.jsx("div",{className:"pt-2",children:s})]})})}},1929:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var r=s(326),i=s(1021),a=s(3679),l=s(7888);function n({title:e,message:t,onRetry:s,retryLabel:n="Retry",isRetrying:c=!1}){return r.jsx(i.Z,{className:"p-12",children:(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center text-center space-y-4",children:[r.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-destructive/10",children:r.jsx(l.Z,{className:"h-8 w-8 text-destructive"})}),e&&r.jsx("h2",{className:"text-lg font-semibold text-foreground",children:e}),r.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:t}),s&&r.jsx("div",{className:"pt-2",children:r.jsx(a.z,{variant:"primary",onClick:s,disabled:c,children:n})})]})})}},6824:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});let r=s(4464).Z.create({withCredentials:!0});r.interceptors.request.use(e=>e),r.interceptors.response.use(e=>e,e=>Promise.reject({status:e.response?.status??500,code:e.response?.data?.error??"UNKNOWN_ERROR",message:e.response?.data?.message??e.message??"An unexpected error occurred"}));let i=r},2081:(e,t,s)=>{"use strict";function r(e){return({DIETITIAN_NOT_FOUND:"dietitianNotFound",INGREDIENT_NOT_FOUND:"ingredientNotFound",UNAUTHORIZED:"unauthorized",NOT_FOUND:"notFound",INVALID_OPERATION:"invalidOperation",INVALID_ARGUMENT:"invalidArgument",INTERNAL_SERVER_ERROR:"serverError"})[e]||"generic"}s.d(t,{C:()=>r})},7888:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(6557).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},8998:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(6557).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},1405:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(6557).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},5738:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(8570).createProxy)(String.raw`C:\Users\hy971\source\repos\MyDietitianMobileApp\web-panel\app\dashboard\clients\page.tsx#default`)},3321:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var r=s(9510),i=s(1492),a=s(302);function l({children:e}){return r.jsx(i.Z,{children:r.jsx(a.L,{children:e})})}}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[74,115,778,681],()=>s(3567));module.exports=r})();